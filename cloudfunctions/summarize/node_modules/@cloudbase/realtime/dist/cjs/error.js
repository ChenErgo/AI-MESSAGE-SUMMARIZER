"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.ERR_CODE = exports.CloudSDKError = exports.isCancelledError = exports.CancelledError = exports.isTimeoutError = exports.TimeoutError = exports.isRealtimeErrorMessageError = exports.RealtimeErrorMessageError = void 0;
var RealtimeErrorMessageError = (function (_super) {
    __extends(RealtimeErrorMessageError, _super);
    function RealtimeErrorMessageError(serverErrorMsg) {
        var _this = _super.call(this, "Watch Error ".concat(JSON.stringify(serverErrorMsg.msgData), " (requestid: ").concat(serverErrorMsg.requestId, ")")) || this;
        _this.isRealtimeErrorMessageError = true;
        _this.payload = serverErrorMsg;
        return _this;
    }
    return RealtimeErrorMessageError;
}(Error));
exports.RealtimeErrorMessageError = RealtimeErrorMessageError;
var isRealtimeErrorMessageError = function (e) { return e === null || e === void 0 ? void 0 : e.isRealtimeErrorMessageError; };
exports.isRealtimeErrorMessageError = isRealtimeErrorMessageError;
var TimeoutError = (function (_super) {
    __extends(TimeoutError, _super);
    function TimeoutError() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.type = 'timeout';
        _this.payload = null;
        _this.generic = true;
        return _this;
    }
    return TimeoutError;
}(Error));
exports.TimeoutError = TimeoutError;
var isTimeoutError = function (e) { return e.type === 'timeout'; };
exports.isTimeoutError = isTimeoutError;
var CancelledError = (function (_super) {
    __extends(CancelledError, _super);
    function CancelledError() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.type = 'cancelled';
        _this.payload = null;
        _this.generic = true;
        return _this;
    }
    return CancelledError;
}(Error));
exports.CancelledError = CancelledError;
var isCancelledError = function (e) { return e.type === 'cancelled'; };
exports.isCancelledError = isCancelledError;
var CloudSDKError = (function (_super) {
    __extends(CloudSDKError, _super);
    function CloudSDKError(options) {
        var _this = _super.call(this, options.errMsg) || this;
        _this.errCode = 'UNKNOWN_ERROR';
        Object.defineProperties(_this, {
            message: {
                get: function () {
                    return ("errCode: ".concat(this.errCode, " ").concat(exports.ERR_CODE[this.errCode]
                        || '', " | errMsg: ").concat(this.errMsg));
                },
                set: function (msg) {
                    this.errMsg = msg;
                },
            },
        });
        _this.errCode = options.errCode || 'UNKNOWN_ERROR';
        _this.errMsg = options.errMsg;
        return _this;
    }
    Object.defineProperty(CloudSDKError.prototype, "message", {
        get: function () {
            return "errCode: ".concat(this.errCode, " | errMsg: ").concat(this.errMsg);
        },
        set: function (msg) {
            this.errMsg = msg;
        },
        enumerable: false,
        configurable: true
    });
    return CloudSDKError;
}(Error));
exports.CloudSDKError = CloudSDKError;
exports.ERR_CODE = {
    UNKNOWN_ERROR: 'UNKNOWN_ERROR',
    SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL: 'SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL',
    SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL: 'SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL',
    SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL: 'SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL',
    SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL: 'SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL',
    SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG: 'SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG',
    SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA: 'SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA',
    SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR: 'SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR',
    SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED: 'SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED',
    SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL: 'SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL',
    SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR: 'SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR',
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZXJyb3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR0E7SUFBK0MsNkNBQUs7SUFJbEQsbUNBQVksY0FBd0M7UUFBcEQsWUFDRSxrQkFBTSxzQkFBZSxJQUFJLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsMEJBQ3pELGNBQWMsQ0FBQyxTQUFTLE1BQ3ZCLENBQUMsU0FFTDtRQVJELGlDQUEyQixHQUFHLElBQUksQ0FBQztRQU9qQyxLQUFJLENBQUMsT0FBTyxHQUFHLGNBQWMsQ0FBQzs7SUFDaEMsQ0FBQztJQUNILGdDQUFDO0FBQUQsQ0FBQyxBQVZELENBQStDLEtBQUssR0FVbkQ7QUFWWSw4REFBeUI7QUFZL0IsSUFBTSwyQkFBMkIsR0FBRyxVQUFDLENBQU0sSUFBcUMsT0FBQSxDQUFDLGFBQUQsQ0FBQyx1QkFBRCxDQUFDLENBQUUsMkJBQTJCLEVBQTlCLENBQThCLENBQUM7QUFBekcsUUFBQSwyQkFBMkIsK0JBQThFO0FBRXRIO0lBQWtDLGdDQUFLO0lBQXZDO1FBQUEscUVBS0M7UUFIQyxVQUFJLEdBQUcsU0FBa0IsQ0FBQztRQUMxQixhQUFPLEdBQUcsSUFBSSxDQUFDO1FBQ2YsYUFBTyxHQUFHLElBQUksQ0FBQzs7SUFDakIsQ0FBQztJQUFELG1CQUFDO0FBQUQsQ0FBQyxBQUxELENBQWtDLEtBQUssR0FLdEM7QUFMWSxvQ0FBWTtBQU9sQixJQUFNLGNBQWMsR0FBRyxVQUFDLENBQU0sSUFBd0IsT0FBQSxDQUFDLENBQUMsSUFBSSxLQUFLLFNBQVMsRUFBcEIsQ0FBb0IsQ0FBQztBQUFyRSxRQUFBLGNBQWMsa0JBQXVEO0FBRWxGO0lBQW9DLGtDQUFLO0lBQXpDO1FBQUEscUVBS0M7UUFIQyxVQUFJLEdBQUcsV0FBb0IsQ0FBQztRQUM1QixhQUFPLEdBQUcsSUFBSSxDQUFDO1FBQ2YsYUFBTyxHQUFHLElBQUksQ0FBQzs7SUFDakIsQ0FBQztJQUFELHFCQUFDO0FBQUQsQ0FBQyxBQUxELENBQW9DLEtBQUssR0FLeEM7QUFMWSx3Q0FBYztBQU9wQixJQUFNLGdCQUFnQixHQUFHLFVBQUMsQ0FBTSxJQUEwQixPQUFBLENBQUMsQ0FBQyxJQUFJLEtBQUssV0FBVyxFQUF0QixDQUFzQixDQUFDO0FBQTNFLFFBQUEsZ0JBQWdCLG9CQUEyRDtBQUV4RjtJQUFtQyxpQ0FBSztJQU10Qyx1QkFBWSxPQUFpQztRQUE3QyxZQUNFLGtCQUFNLE9BQU8sQ0FBQyxNQUFNLENBQUMsU0FrQnRCO1FBeEJNLGFBQU8sR0FBRyxlQUFlLENBQUM7UUFRL0IsTUFBTSxDQUFDLGdCQUFnQixDQUFDLEtBQUksRUFBRTtZQUM1QixPQUFPLEVBQUU7Z0JBQ1AsR0FBRztvQkFDRCxPQUFPLENBQ0wsbUJBQVksSUFBSSxDQUFDLE9BQU8sY0FBSSxnQkFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7MkJBQzdDLEVBQUUsd0JBQWMsSUFBSSxDQUFDLE1BQU0sQ0FBRSxDQUNuQyxDQUFDO2dCQUNKLENBQUM7Z0JBQ0QsR0FBRyxZQUFDLEdBQVc7b0JBQ2IsSUFBSSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7Z0JBQ3BCLENBQUM7YUFDRjtTQUNGLENBQUMsQ0FBQztRQUVILEtBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sSUFBSSxlQUFlLENBQUM7UUFDbEQsS0FBSSxDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDOztJQUMvQixDQUFDO0lBRUQsc0JBQUksa0NBQU87YUFBWDtZQUNFLE9BQU8sbUJBQVksSUFBSSxDQUFDLE9BQU8sd0JBQWMsSUFBSSxDQUFDLE1BQU0sQ0FBRSxDQUFDO1FBQzdELENBQUM7YUFFRCxVQUFZLEdBQVc7WUFDckIsSUFBSSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7UUFDcEIsQ0FBQzs7O09BSkE7SUFLSCxvQkFBQztBQUFELENBQUMsQUFsQ0QsQ0FBbUMsS0FBSyxHQWtDdkM7QUFsQ1ksc0NBQWE7QUF5Q2IsUUFBQSxRQUFRLEdBQXVDO0lBRTFELGFBQWEsRUFBRSxlQUFlO0lBQzlCLDhDQUE4QyxFQUM1QyxnREFBZ0Q7SUFFbEQsbURBQW1ELEVBQ2pELHFEQUFxRDtJQUV2RCxpREFBaUQsRUFDL0MsbURBQW1EO0lBRXJELCtDQUErQyxFQUM3QyxpREFBaUQ7SUFFbkQsK0NBQStDLEVBQzdDLGlEQUFpRDtJQUVuRCwwREFBMEQsRUFDeEQsNERBQTREO0lBRTlELHlEQUF5RCxFQUN2RCwyREFBMkQ7SUFFN0QsMERBQTBELEVBQ3hELDREQUE0RDtJQUU5RCw4Q0FBOEMsRUFDNUMsZ0RBQWdEO0lBRWxELHFEQUFxRCxFQUNuRCx1REFBdUQ7Q0FFMUQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElHZW5lcmljRXJyb3IgfSBmcm9tICdAY2xvdWRiYXNlL3R5cGVzJztcbmltcG9ydCB7IElSZXNwb25zZU1lc3NhZ2VFcnJvck1zZyB9IGZyb20gJ0BjbG91ZGJhc2UvdHlwZXMvcmVhbHRpbWUnO1xuXG5leHBvcnQgY2xhc3MgUmVhbHRpbWVFcnJvck1lc3NhZ2VFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgaXNSZWFsdGltZUVycm9yTWVzc2FnZUVycm9yID0gdHJ1ZTtcbiAgcGF5bG9hZDogSVJlc3BvbnNlTWVzc2FnZUVycm9yTXNnO1xuXG4gIGNvbnN0cnVjdG9yKHNlcnZlckVycm9yTXNnOiBJUmVzcG9uc2VNZXNzYWdlRXJyb3JNc2cpIHtcbiAgICBzdXBlcihgV2F0Y2ggRXJyb3IgJHtKU09OLnN0cmluZ2lmeShzZXJ2ZXJFcnJvck1zZy5tc2dEYXRhKX0gKHJlcXVlc3RpZDogJHtcbiAgICAgIHNlcnZlckVycm9yTXNnLnJlcXVlc3RJZFxuICAgIH0pYCk7XG4gICAgdGhpcy5wYXlsb2FkID0gc2VydmVyRXJyb3JNc2c7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGlzUmVhbHRpbWVFcnJvck1lc3NhZ2VFcnJvciA9IChlOiBhbnkpOiBlIGlzIFJlYWx0aW1lRXJyb3JNZXNzYWdlRXJyb3IgPT4gZT8uaXNSZWFsdGltZUVycm9yTWVzc2FnZUVycm9yO1xuXG5leHBvcnQgY2xhc3MgVGltZW91dEVycm9yIGV4dGVuZHMgRXJyb3JcbiAgaW1wbGVtZW50cyBJR2VuZXJpY0Vycm9yPCd0aW1lb3V0JywgbnVsbD4ge1xuICB0eXBlID0gJ3RpbWVvdXQnIGFzIGNvbnN0O1xuICBwYXlsb2FkID0gbnVsbDtcbiAgZ2VuZXJpYyA9IHRydWU7XG59XG5cbmV4cG9ydCBjb25zdCBpc1RpbWVvdXRFcnJvciA9IChlOiBhbnkpOiBlIGlzIFRpbWVvdXRFcnJvciA9PiBlLnR5cGUgPT09ICd0aW1lb3V0JztcblxuZXhwb3J0IGNsYXNzIENhbmNlbGxlZEVycm9yIGV4dGVuZHMgRXJyb3JcbiAgaW1wbGVtZW50cyBJR2VuZXJpY0Vycm9yPCdjYW5jZWxsZWQnLCBudWxsPiB7XG4gIHR5cGUgPSAnY2FuY2VsbGVkJyBhcyBjb25zdDtcbiAgcGF5bG9hZCA9IG51bGw7XG4gIGdlbmVyaWMgPSB0cnVlO1xufVxuXG5leHBvcnQgY29uc3QgaXNDYW5jZWxsZWRFcnJvciA9IChlOiBhbnkpOiBlIGlzIENhbmNlbGxlZEVycm9yID0+IGUudHlwZSA9PT0gJ2NhbmNlbGxlZCc7XG5cbmV4cG9ydCBjbGFzcyBDbG91ZFNES0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBwdWJsaWMgZXJyQ29kZSA9ICdVTktOT1dOX0VSUk9SJztcbiAgcHVibGljIGVyck1zZzogc3RyaW5nO1xuXG4gIHB1YmxpYyByZXF1ZXN0SUQ/OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogSUVycm9yQ29uc3RydWN0b3JPcHRpb25zKSB7XG4gICAgc3VwZXIob3B0aW9ucy5lcnJNc2cpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgbWVzc2FnZToge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGBlcnJDb2RlOiAke3RoaXMuZXJyQ29kZX0gJHtFUlJfQ09ERVt0aGlzLmVyckNvZGVdXG4gICAgICAgICAgICAgIHx8ICcnfSB8IGVyck1zZzogJHt0aGlzLmVyck1zZ31gXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0KG1zZzogc3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5lcnJNc2cgPSBtc2c7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5lcnJDb2RlID0gb3B0aW9ucy5lcnJDb2RlIHx8ICdVTktOT1dOX0VSUk9SJztcbiAgICB0aGlzLmVyck1zZyA9IG9wdGlvbnMuZXJyTXNnO1xuICB9XG5cbiAgZ2V0IG1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIGBlcnJDb2RlOiAke3RoaXMuZXJyQ29kZX0gfCBlcnJNc2c6ICR7dGhpcy5lcnJNc2d9YDtcbiAgfVxuXG4gIHNldCBtZXNzYWdlKG1zZzogc3RyaW5nKSB7XG4gICAgdGhpcy5lcnJNc2cgPSBtc2c7XG4gIH1cbn1cblxuaW50ZXJmYWNlIElFcnJvckNvbnN0cnVjdG9yT3B0aW9ucyB7XG4gIGVyckNvZGU/OiBzdHJpbmdcbiAgZXJyTXNnOiBzdHJpbmdcbn1cblxuZXhwb3J0IGNvbnN0IEVSUl9DT0RFOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB9ID0ge1xuICAvLyBcIi0xXCI6IFwiXCIsXG4gIFVOS05PV05fRVJST1I6ICdVTktOT1dOX0VSUk9SJyxcbiAgU0RLX0RBVEFCQVNFX1JFQUxUSU1FX0xJU1RFTkVSX0lOSVRfV0FUQ0hfRkFJTDpcbiAgICAnU0RLX0RBVEFCQVNFX1JFQUxUSU1FX0xJU1RFTkVSX0lOSVRfV0FUQ0hfRkFJTCcsXG4gIC8vIFwicmVhbHRpbWUgbGlzdGVuZXIgaW5pdCB3YXRjaCBmYWlsXCIsXG4gIFNES19EQVRBQkFTRV9SRUFMVElNRV9MSVNURU5FUl9SRUNPTk5FQ1RfV0FUQ0hfRkFJTDpcbiAgICAnU0RLX0RBVEFCQVNFX1JFQUxUSU1FX0xJU1RFTkVSX1JFQ09OTkVDVF9XQVRDSF9GQUlMJyxcbiAgLy8gXCJyZWFsdGltZSBsaXN0ZW5lciByZWNvbm5lY3Qgd2F0Y2ggZmFpbFwiLFxuICBTREtfREFUQUJBU0VfUkVBTFRJTUVfTElTVEVORVJfUkVCVUlMRF9XQVRDSF9GQUlMOlxuICAgICdTREtfREFUQUJBU0VfUkVBTFRJTUVfTElTVEVORVJfUkVCVUlMRF9XQVRDSF9GQUlMJyxcbiAgLy8gXCJyZWFsdGltZSBsaXN0ZW5lciByZWJ1aWxkIHdhdGNoIGZhaWxcIixcbiAgU0RLX0RBVEFCQVNFX1JFQUxUSU1FX0xJU1RFTkVSX0NMT1NFX1dBVENIX0ZBSUw6XG4gICAgJ1NES19EQVRBQkFTRV9SRUFMVElNRV9MSVNURU5FUl9DTE9TRV9XQVRDSF9GQUlMJyxcbiAgLy8gXCJyZWFsdGltZSBsaXN0ZW5lciByZWJ1aWxkIHdhdGNoIGZhaWxcIixcbiAgU0RLX0RBVEFCQVNFX1JFQUxUSU1FX0xJU1RFTkVSX1NFUlZFUl9FUlJPUl9NU0c6XG4gICAgJ1NES19EQVRBQkFTRV9SRUFMVElNRV9MSVNURU5FUl9TRVJWRVJfRVJST1JfTVNHJyxcbiAgLy8gXCJyZWFsdGltZSBsaXN0ZW5lciByZWNlaXZlIHNlcnZlciBlcnJvciBtc2dcIixcbiAgU0RLX0RBVEFCQVNFX1JFQUxUSU1FX0xJU1RFTkVSX1JFQ0VJVkVfSU5WQUxJRF9TRVJWRVJfREFUQTpcbiAgICAnU0RLX0RBVEFCQVNFX1JFQUxUSU1FX0xJU1RFTkVSX1JFQ0VJVkVfSU5WQUxJRF9TRVJWRVJfREFUQScsXG4gIC8vIFwicmVhbHRpbWUgbGlzdGVuZXIgcmVjZWl2ZSBpbnZhbGlkIHNlcnZlciBkYXRhXCIsXG4gIFNES19EQVRBQkFTRV9SRUFMVElNRV9MSVNURU5FUl9XRUJTT0NLRVRfQ09OTkVDVElPTl9FUlJPUjpcbiAgICAnU0RLX0RBVEFCQVNFX1JFQUxUSU1FX0xJU1RFTkVSX1dFQlNPQ0tFVF9DT05ORUNUSU9OX0VSUk9SJyxcbiAgLy8gXCJyZWFsdGltZSBsaXN0ZW5lciB3ZWJzb2NrZXQgY29ubmVjdGlvbiBlcnJvclwiLFxuICBTREtfREFUQUJBU0VfUkVBTFRJTUVfTElTVEVORVJfV0VCU09DS0VUX0NPTk5FQ1RJT05fQ0xPU0VEOlxuICAgICdTREtfREFUQUJBU0VfUkVBTFRJTUVfTElTVEVORVJfV0VCU09DS0VUX0NPTk5FQ1RJT05fQ0xPU0VEJyxcbiAgLy8gXCJyZWFsdGltZSBsaXN0ZW5lciB3ZWJzb2NrZXQgY29ubmVjdGlvbiBjbG9zZWRcIixcbiAgU0RLX0RBVEFCQVNFX1JFQUxUSU1FX0xJU1RFTkVSX0NIRUNLX0xBU1RfRkFJTDpcbiAgICAnU0RLX0RBVEFCQVNFX1JFQUxUSU1FX0xJU1RFTkVSX0NIRUNLX0xBU1RfRkFJTCcsXG4gIC8vIFwicmVhbHRpbWUgbGlzdGVuZXIgY2hlY2sgbGFzdCBmYWlsXCIsXG4gIFNES19EQVRBQkFTRV9SRUFMVElNRV9MSVNURU5FUl9VTkVYUEVDVEVEX0ZBVEFMX0VSUk9SOlxuICAgICdTREtfREFUQUJBU0VfUkVBTFRJTUVfTElTVEVORVJfVU5FWFBFQ1RFRF9GQVRBTF9FUlJPUicsXG4gIC8vIFwicmVhbHRpbWUgbGlzdGVuZXIgdW5leHBlY3RlZCBmYXRhbCBlcnJvclwiXG59O1xuIl19